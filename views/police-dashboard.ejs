<%- include('partials/header') %>

<div class="p-6">
  <h1 class="text-2xl font-bold mb-4">Welcome, <%= officer.name %></h1>

  <section>
    <h2>Recent Bookings</h2>
    <% if (recentBookings && recentBookings.length > 0) { %>
    <ul>
      <% recentBookings.forEach(b => { %>
      <li><%= b.person.name %></li>
      <% }) %>
    </ul>
    <% } else { %>
    <p>No recent bookings found.</p>
    <% } %>
  </section>

  <section>
    <h2>Search Records</h2>
    <form method="POST" action="/police/search">
      <input type="text" name="query" placeholder="Name, ID, Alias" />
      <button type="submit">Search</button>
    </form>
    <% if (results && results.length > 0) { %>
    <ul>
      <% results.forEach(r => { %>
      <li><%= r.person.name %></li>
      <% }) %>
    </ul>
    <% } else { %>
    <p>No search results found.</p>
    <% } %>
  </section>

  <!-- Alerts -->
  <section class="mb-6">
    <h2 class="text-xl font-semibold mb-2">System Alerts</h2>
    <% alerts.forEach(alert => { %>
      <div class="bg-red-100 p-3 rounded mb-2">
        <strong><%= alert.title %></strong>: <%= alert.message %>
      </div>
    <% }) %>
  </section>

  <!-- Activity Log -->
  <section>
    <h2 class="text-xl font-semibold mb-2">Your Activity</h2>
    <ul class="space-y-1">
      <% activityLog.forEach(log => { %>
        <li><%= log.action %> â€” <%= log.timestamp.toLocaleString() %></li>
      <% }) %>
    </ul>
  </section>
</div>

<script src="/js/dashboard.js"></script>
<%- include('partials/footer') %>
